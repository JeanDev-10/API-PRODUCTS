# üì¶ API_Productos

API RESTful para la gesti√≥n de productos utilizando .NET 8, Entity Framework Core, FluentValidation, y paginaci√≥n con filtros din√°micos. Incluye manejo estructurado de respuestas con clases ApiResponse, validaciones robustas, y limitaci√≥n de solicitudes (rate limiting).

## üìÅ Estructura del Proyecto

```bash
API_Productos/
‚îú‚îÄ‚îÄ Controllers/              # Endpoints HTTP
‚îú‚îÄ‚îÄ DTOs/                    # Data Transfer Objects
‚îú‚îÄ‚îÄ ‚îú‚îÄ‚îÄProduct/         # Respuestas est√°ndar
‚îÇ       ‚îú‚îÄ‚îÄ ProductCreateDto.cs
‚îÇ       ‚îú‚îÄ‚îÄ ProductUpdateDto.cs
‚îÇ       ‚îú‚îÄ‚îÄ ProductResponseDto.cs
‚îÇ   ‚îî‚îÄ‚îÄ ApiResponse/         # Respuestas est√°ndar
‚îÇ       ‚îú‚îÄ‚îÄ ApiResponse.cs
‚îÇ       ‚îú‚îÄ‚îÄ ApiResponseData.cs
‚îÇ       ‚îî‚îÄ‚îÄ PagedResponse.cs
‚îú‚îÄ‚îÄ Models/                  # Entidad Product.cs
‚îú‚îÄ‚îÄ Repositories/           # Interfaces y repositorio
‚îú‚îÄ‚îÄ Services/               # L√≥gica de negocio
‚îú‚îÄ‚îÄ Validators/             # Validaciones con FluentValidation
‚îú‚îÄ‚îÄ Interaces/             # interfaces
‚îú‚îÄ‚îÄ Context/                   # DbContext
‚îú‚îÄ‚îÄ appsettings.json        # Configuraci√≥n
‚îú‚îÄ‚îÄ Program.cs              # Configuraci√≥n general y middleware
```

## üöÄ Endpoints

Todos los endpoints est√°n bajo la ruta base:

```bash
/api/products
```

### ‚úÖ GET /api/products

**Descripci√≥n**: Obtener lista paginada de productos con filtros opcionales.

**Query params:**

| Nombre      | Tipo    | Descripci√≥n                          |
| ----------- | ------- | ------------------------------------ |
| name        | string  | Filtrar por nombre                   |
| description | string  | Filtrar por descripci√≥n              |
| price       | decimal | Filtrar por precio exacto            |
| stock       | int     | Filtrar por cantidad en stock exacta |
| page        | int     | P√°gina actual (por defecto: 1)       |

## ‚úÖ Validaciones con FluentValidation

Ubicadas en /Validators/, cada DTO se valida antes de llegar al servicio.

Reglas para ProductCreateDto y ProductUpdateDto:
|Campo |Validaci√≥n|
|-------|----------|
|name |No vac√≠o, m√°x. 100 caracteres|
|description |No vac√≠o, m√°x. 500 caracteres|
|price |>= 0|
|stock |>= 0|

Los errores se devuelven autom√°ticamente como respuestas 400 BadRequest con detalles de validaci√≥n.


## üìö Librer√≠as Usadas
Paquete	Uso Principal
| FluentValidation	| Validaci√≥n de DTOs|
|-------------------|---------------------|
| EntityFrameworkCore	| ORM para base de datos|
| EntityFrameworkCore.SqlServer	| Proveedor de SQL Server|
| Swashbuckle.AspNetCore	| Swagger UI y documentaci√≥n autom√°tica|
| xUnit, Moq, FluentAssertions (tests)	| Testing unitario e integraci√≥n|

Configurar la base de datos:

Usar migraciones de EF Core:

```bash
dotnet ef database update
```

Configurar conexi√≥n a BD:
Editar appsettings.json:

```json
"ConnectionStrings": {
  "DefaultConnection": "Server=localhost;Database=db;User Id=sa;Password=TuContrase√±a;TrustServerCertificate=True;"
}
```

## üî• Ejecutar la Aplicaci√≥n

Instalar dependencias:

```bash
dotnet restore
```

Ejecutar:

```bash
dotnet run
```
